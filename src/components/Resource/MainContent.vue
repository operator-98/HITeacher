<template>
  <view class="content-wrapper">
    <view class="header-section">
      <!-- ä¿®æ”¹ï¼šå°†æ ‡é¢˜å’Œæœç´¢/ä¸Šä¼ æ æ”¾åœ¨åŒä¸€è¡Œ -->
      <view class="title-and-search">
        <view class="title-wrapper">
          <view class="main-title"
            >æ¢ç´¢ <text class="highlight-text">å­¦ä¹ èµ„æº</text> ç¤¾åŒº</view
          >
          <view class="subtitle"
            >ä»è¯¾ç¨‹ç¬”è®°ã€ä¹ é¢˜è§£æåˆ°å°ç»„è®¨è®ºï¼Œæ€»æœ‰ä½ éœ€è¦çš„ã€‚</view
          >
        </view>

        <view class="search-and-upload">
          <button class="upload-button">ä¸Šä¼ èµ„æº</button>
          <view class="search-bar">
            <text class="search-icon">ğŸ”</text>
            <input class="search-input" type="text" placeholder="æœç´¢å­¦ä¹ èµ„æº..." />
            <button class="search-button">æœç´¢</button>
          </view>
        </view>
      </view>
      <!-- æ–°å¢ï¼šåˆ†å‰²çº¿ -->
      <view class="divider"></view>
    </view>

    <!-- èµ„æºåˆ—è¡¨éƒ¨åˆ† -->
    <view class="server-section">
      <!-- ä¿®æ”¹ï¼šæ ‡é¢˜ -->
      <view class="section-title">ç²¾é€‰èµ„æº</view>

      <view class="server-grid">
        <view
          class="server-card"
          v-for="server in servers"
          :key="server.name"
        >
          <view class="card-banner-placeholder">
            [{{ server.name }} èµ„æºå°é¢]
          </view>
          
          <view class="card-icon-placeholder">[{{ server.initial }}]</view>
          
          <view class="card-content">
            <view class="card-title">
              <view class="online-dot"></view>
              <text>{{ server.name }}</text>
            </view>
            <view class="card-description">{{ server.description }}</view>
            <view class="card-stats">
              <text>â€¢ {{ server.online }} äººæ­£åœ¨å­¦ä¹ </text>
              <text>â€¢ {{ server.members }} ä»½èµ„æ–™</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue';

interface Server {
  name: string;
  initial: string; // ç”¨äºå›¾æ ‡å ä½ç¬¦
  description: string;
  online: string;
  members: string;
}

const servers = ref<Server[]>([
  {
    name: 'è®¡ç®—æœºç§‘å­¦å¯¼è®º',
    initial: 'CS',
    description:
      'æ¶µç›–ç¼–ç¨‹åŸºç¡€ã€ç®—æ³•ä¸æ•°æ®ç»“æ„ç­‰æ ¸å¿ƒçŸ¥è¯†ã€‚',
    online: '745',
    members: '4,149',
  },
  {
    name: 'é«˜ç­‰æ•°å­¦',
    initial: 'GM',
    description:
      'å¾®ç§¯åˆ†ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡è®ºç­‰å­¦ä¹ èµ„æ–™ä¸ä¹ é¢˜è§£æã€‚',
    online: '703',
    members: '20,312',
  },
  {
    name: 'å¤§å­¦ç‰©ç†',
    initial: 'UP',
    description:
      'ç»å…¸åŠ›å­¦ã€ç”µç£å­¦ã€å…‰å­¦ç­‰è¯¾ç¨‹ç¬”è®°ä¸å®éªŒæŠ¥å‘Šã€‚',
    online: '354',
    members: '2,164',
  },
  {
    name: 'è‹±è¯­å››çº§',
    initial: 'CET',
    description:
      'å†å¹´çœŸé¢˜ã€è¯æ±‡è§£æã€å¬åŠ›ç»ƒä¹ ç­‰å¤‡è€ƒèµ„æºã€‚',
    online: '299',
    members: '1,458',
  },
]);
</script>

<style scoped>
/* --- æ–°å¢ï¼šåˆ†å‰²çº¿æ ·å¼ --- */
.divider {
  height: 1px;
  background-color: #D1D5DB; /* ä½¿ç”¨æµ…ç°è‰²ä½œä¸ºåˆ†å‰²çº¿ */
  margin: 10px 0; /* ä¸Šä¸‹ç•™ç‚¹é—´è· */
  width: 100%; /* å æ»¡å®½åº¦ */
}

/* --- æ ‡é¢˜å’Œæœç´¢ä¸Šä¼ æ çš„å®¹å™¨æ ·å¼ --- */
.title-and-search {
  display: flex;
  justify-content: space-between; /* æ ‡é¢˜éƒ¨åˆ†å’Œæœç´¢ä¸Šä¼ éƒ¨åˆ†åˆ†åˆ«é å·¦é å³ */
  align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
  gap: 20px; /* ä¸­é—´ç•™ç‚¹é—´è· */
  /* margin-bottom: 20px; /1* ç§»é™¤ï¼šè¿™ä¸ªé—´è·ä¸åº”è¯¥å½±å“ header-section çš„ padding *1/ */
}

.title-wrapper {
  flex: 1; /* æ ‡é¢˜éƒ¨åˆ†å æ®å‰©ä½™ç©ºé—´ */
  /* æ·»åŠ ä¸€äº›åŸºç¡€æ ·å¼ï¼Œç¡®ä¿å†…å®¹ç¨³å®š */
  display: flex;
  flex-direction: column;
  min-width: 0; /* é˜²æ­¢ flex item æº¢å‡º */
}

.search-and-upload {
  display: flex;
  align-items: flex-start; /* ä¸æ ‡é¢˜é¡¶éƒ¨å¯¹é½ */
  gap: 10px; /* æŒ‰é’®å’Œæœç´¢æ ä¹‹é—´ç•™ç‚¹é—´è· */
  flex-shrink: 0; /* é˜²æ­¢æœç´¢æ å’ŒæŒ‰é’®è¢«å‹ç¼© */
  /* æ·»åŠ ä¸€äº›åŸºç¡€æ ·å¼ï¼Œç¡®ä¿å†…å®¹ç¨³å®š */
  display: flex;
  align-items: center; /* ä¸ºäº†è®©æŒ‰é’®å’Œæœç´¢æ å‚ç›´å±…ä¸­å¯¹é½ï¼Œå¦‚æœéœ€è¦çš„è¯ */
  /* æˆ–è€…ä¿æŒ flex-start ä»¥å¯¹é½é¡¶éƒ¨ */
}

/* --- æœç´¢æ å’ŒæŒ‰é’®æ ·å¼ (å¤ç”¨ä¹‹å‰çš„æ ·å¼) --- */
.upload-button {
  background-color: #B91C1C; /* ä½¿ç”¨ Logo ä¸­ "HI" çš„æ·±çº¢è‰² */
  color: white;
  border: none;
  border-radius: 20px; /* åœ†è§’æŒ‰é’® */
  /* padding: 6px 16px; /1* ä¿®æ”¹ï¼šè°ƒæ•´å‚ç›´å†…è¾¹è·ä»¥åŒ¹é…æœç´¢æ é«˜åº¦ *1/ */
  padding: 7px 16px; /* ä¿®æ”¹ï¼šè¿›ä¸€æ­¥è°ƒæ•´ï¼Œä½¿å…¶è§†è§‰é«˜åº¦ä¸æœç´¢æ æ›´åŒ¹é… */
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  /* uni-app button æ ·å¼é‡ç½® */
  margin: 0;
  line-height: normal;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
}
/* #ifdef H5 */
.upload-button:after {
  border: none;
}
/* #endif */

.search-bar {
  display: flex;
  align-items: center;
  background-color: #E5E7EB; /* ä½¿ç”¨ä¸ sidebar å’Œ card ç›¸ä¼¼çš„æµ…ç°è‰²èƒŒæ™¯ */
  border-radius: 20px;
  padding: 8px 15px; /* åŸå§‹æœç´¢æ é«˜åº¦ */
  max-width: 350px; /* é™åˆ¶æœ€å¤§å®½åº¦ */
  flex-shrink: 0; /* é˜²æ­¢æœç´¢æ è¢«å‹ç¼© */
}
.search-icon {
  font-size: 16px;
  margin-right: 10px;
  color: #6B7280; /* ä½¿ç”¨ä¸­ç°è‰²å›¾æ ‡ */
}
.search-input {
  flex-grow: 1;
  background: transparent;
  border: none;
  color: #333; /* ä½¿ç”¨é»˜è®¤æ–‡å­—è‰² */
  font-size: 14px;
}
/* H5 å¹³å°éšè— input é»˜è®¤æ ·å¼ */
/* #ifdef H5 */
.search-input ::-webkit-input-placeholder {
  color: #9CA3AF; /* ä½¿ç”¨æµ…ç°è‰²å ä½ç¬¦ */
}
.search-input {
  outline: none;
}
/* #endif */

.search-button {
  background-color: #1E3A8A; /* ä½¿ç”¨é¡¹ç›®ä¸»è‰²ï¼ˆé›è“ï¼‰ */
  color: white;
  border: none;
  border-radius: 15px; /* åœ†è§’æŒ‰é’® */
  padding: 6px 12px;
  font-size: 14px;
  font-weight: bold;
  margin-left: 8px; /* ä¸è¾“å…¥æ¡†ç•™å‡ºé—´è· */
  cursor: pointer;
  /* uni-app button æ ·å¼é‡ç½® */
  margin: 0;
  line-height: normal;
}
/* #ifdef H5 */
.search-button:after {
  border: none;
}
/* #endif */


/* --- åŸæœ‰æ ·å¼è°ƒæ•´ï¼šç§»é™¤ä¹‹å‰æ·»åŠ çš„ top-search-bar æ ·å¼ --- */
.content-wrapper {
  /* padding: 0; /1* ç§»é™¤ content-wrapper çš„ paddingï¼Œç”±å†…éƒ¨å…ƒç´ æä¾› *1/ */
  /* background-color: #F5F5F4; /1* ä½¿ç”¨é¡¹ç›®ä¸»è‰²è°ƒ *1/ */
  /* color: #333; /1* ä½¿ç”¨é¡¹ç›®é»˜è®¤æ–‡å­—è‰² *1/ */
  /* å¢åŠ æœ€å°é«˜åº¦ï¼Œç¡®ä¿å†…å®¹èƒ½æ’‘æ»¡ */
  /* min-height: 100vh; */
  /* box-sizing: border-box; */
  /* display: flex; /1* ä½¿ç”¨ flex å¸ƒå±€ *1/ */
  /* flex-direction: column; /1* å‚ç›´æ’åˆ— header å’Œ server-section *1/ */
  /* flex-grow: 1; /1* è®©å†…å®¹åŒºåŸŸå æ®å‰©ä½™ç©ºé—´ *1/ */
  /* ç§»é™¤è¿™äº›ï¼Œå› ä¸ºæ»šåŠ¨é€»è¾‘å·²ç§»è‡³çˆ¶çº§ .main-content */
}

/* 1. é¡¶éƒ¨æ ‡é¢˜ */
.header-section {
  /* padding: 40px 24px 0 24px; /1* è°ƒæ•´ä¸Šå†…è¾¹è· *1/ */
  padding: 24px 24px 0 24px; /* ä¿®æ”¹ï¼šè°ƒæ•´é¡¶éƒ¨å†…è¾¹è·ï¼Œæä¾›æ›´å¤šç©ºé—´ï¼ŒåŒæ—¶ä¿æŒå·¦å³å†…è¾¹è· */
  margin-left: 10px;
  /* background-color: #F5F5F4; /1* ç¡®ä¿èƒŒæ™¯è‰²ä¸é¡¹ç›®ä¸€è‡´ *1/ */
  /* display: flex; /1* ä½¿ç”¨ flex å¸ƒå±€ *1/ */
  /* flex-direction: column; /1* å‚ç›´æ’åˆ— title-and-search å’Œ divider *1/ */
  /* align-items: stretch; /1* æ‹‰ä¼¸å­å…ƒç´  *1/ */
  /* flex-shrink: 0; /1* é˜²æ­¢ header-section è¢«å‹ç¼© *1/ */
  /* ç§»é™¤è¿™äº›ï¼Œå› ä¸º .main-content è´Ÿè´£å¸ƒå±€å’Œæ»šåŠ¨ */
}
.main-title {
  font-size: 32px;
  font-weight: 800;
  margin-bottom: 8px;
  color: #1f2937; /* ä½¿ç”¨æ·±ç°è‰²æ–‡å­— */
}
.highlight-text {
  font-family: 'Arial Black', sans-serif; /* æ¨¡æ‹Ÿå¼ºè°ƒå­—ä½“ */
  color: #1E3A8A; /* ä½¿ç”¨é¡¹ç›®ä¸»è‰²ï¼ˆé›è“ï¼‰ */
}
.subtitle {
  font-size: 16px;
  color: #6B7280; /* ä½¿ç”¨ä¸­ç°è‰²æ–‡å­— */
}

/* 2. ç²¾é€‰æœåŠ¡å™¨ -> ç²¾é€‰èµ„æº */
.server-section {
  /* margin-top: 20px; /1* ä¸ header-section ä¿æŒé—´è· *1/ */
  /* padding: 0 24px; /1* æ·»åŠ å·¦å³å†…è¾¹è·ï¼Œä¸ header-section å¯¹é½ *1/ */
  padding: 20px 24px; /* ä¸ºèµ„æºåˆ—è¡¨åŒºåŸŸæ·»åŠ å†…è¾¹è· */
  flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ */
  overflow-y: auto; /* å¦‚æœå†…å®¹è¿‡å¤šï¼Œå…è®¸æ»šåŠ¨ */
}
.section-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
  /* margin-left: 10px; /1* å¯é€‰ï¼šå¦‚æœä¸éœ€è¦å·¦è¾¹è· *1/ */
  color: #1f2937; /* ä½¿ç”¨æ·±ç°è‰²æ–‡å­— */
}

.server-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.server-card {
  background-color: #E5E7EB; /* ä½¿ç”¨æµ…ç°è‰²èƒŒæ™¯ */
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s, background-color 0.2s;
  position: relative;
}
.server-card:hover {
  transform: translateY(-5px);
  background-color: #D1D5DB; /* ä½¿ç”¨æ›´æµ…çš„ç°è‰²æ‚¬åœèƒŒæ™¯ */
}

.card-banner-placeholder {
  width: 100%;
  height: 160px;
  background-color: #D1D5DB; /* ä½¿ç”¨æµ…ç°è‰²èƒŒæ™¯ */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: #9CA3AF; /* ä½¿ç”¨æµ…ç°è‰²æ–‡å­— */
}

.card-icon-placeholder {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  background-color: #1E3A8A; /* ä½¿ç”¨é¡¹ç›®ä¸»è‰²ï¼ˆé›è“ï¼‰ */
  border: 3px solid #F5F5F4; /* ä½¿ç”¨é¡¹ç›®ä¸»è‰²è°ƒè¾¹æ¡† */
  position: absolute;
  top: 136px; /* 160px (banner) - 24px (half icon) */
  left: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  color: white;
  font-weight: bold;
}

.card-content {
  padding: 40px 16px 16px 16px; /* é¡¶éƒ¨ padding ç•™å‡º icon ä½ç½® */
}

.card-title {
  font-size: 18px;
  font-weight: 700;
  color: #1f2937; /* ä½¿ç”¨æ·±ç°è‰²æ–‡å­— */
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}

.online-dot {
  width: 8px;
  height: 8px;
  background-color: #10B981; /* ä½¿ç”¨é¡¹ç›®å¯èƒ½çš„å¼ºè°ƒè‰²ï¼ˆç»¿è‰²ï¼‰ */
  border-radius: 50%;
  margin-right: 8px;
}

.card-description {
  font-size: 14px;
  color: #6B7280; /* ä½¿ç”¨ä¸­ç°è‰²æ–‡å­— */
  line-height: 1.4;
  height: 60px; /* é™åˆ¶é«˜åº¦ï¼Œçº¦ 3-4 è¡Œ */
  overflow: hidden;
  text-overflow: ellipsis;
}

.card-stats {
  margin-top: 12px;
  font-size: 12px;
  color: #6B7280; /* ä½¿ç”¨ä¸­ç°è‰²æ–‡å­— */
  display: flex;
  gap: 12px;
}
</style>